<!-- 定义macro, 需要两个参数， 要渲染的form和点击提交请求的 url-->
{% macro render_form(form, url)%}
<form method='POST' action='{{ url }}'>
    <!-- 将csrf_token 渲染在表单开始的位置-->
    {{ form.csrf_token }}

    <!-- 迭代每个表单 field -->
    {% for field in form %}
    <!-- 如果是 csrf_token 不再渲染-->
        {% if field.type == 'CSRFTokenField'%}
        {{ '' }}
        {% elif field.type == 'SubmitField'%}
        {{ form.submit(class='btn btn-primary', type='submit')}}
        {% elif field.type == 'BooleanField'%}
        <div class='checkbox'>
            <label>{{ field()}} {{field.label.text}}</label> 
        </div>
        {% else %}
        <!-- 当errors不为空，添加has-error类，输入框变成红色　 -->
        <div class='form-group {% if field.errors %} has-error {% endif %}'>
            {{ field.label}} {{field(class='form-control')}} 
            <!-- 当errors不为空,遍历显示每一个error -->
            {% if field.errors %}
                {% for error in field.errors %}
                <span class='help-block'>{{ error }}</span>
                {% endfor %}
            {% endif %}
        </div>
        {% endif %}
    {% endfor%}
</form>
{% endmacro %}
